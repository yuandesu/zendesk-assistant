# Zendesk ChatGPT Multi-Function Assistant

## 概要

Zendesk での顧客サポート業務を効率化するための多機能 ChatGPT アシスタントです。テキストを選択してキーボードショートカットを使用することで、6つの異なる機能を利用できます。

## 機能一覧

### 1. ? Confluence 検索 (CC)
- **操作**: テキストを選択 → C キーを2回素早く押す
- **機能**: 顧客メッセージを技術的な質問に変換し、Confluence で検索
- **用途**: 内部ドキュメントから関連情報を検索

### 2. ? 内部 TEE 質問フォーマット (EE)
- **操作**: テキストを選択 → E キーを2回素早く押す
- **機能**: 顧客の問題を内部エンジニア向けの専門的な質問形式に変換
- **用途**: Slack や内部コミュニケーションツールで使用
- **出力**: Question/Background 形式でクリップボードにコピー

### 3. ? Datadog ドキュメント検索 (DD)
- **操作**: テキストを選択 → D キーを2回素早く押す
- **機能**: Datadog 関連のキーワードを抽出し、公式ドキュメントで検索
- **用途**: 製品ドキュメントから解決策を検索

### 4. ? Zendesk チケット検索 (ZZ)
- **操作**: テキストを選択 → Z キーを2回素早く押す
- **機能**: エラーログは直接検索、一般的な問題はキーワード抽出
- **用途**: 類似の過去チケットを検索

### 5. ? 日本語文章改善 (JJ)
- **操作**: 日本語テキストを選択 → J キーを2回素早く押す
- **機能**: 3つの異なるスタイルで日本語を改善
  - **標準的な改善**: 一般的で標準的な表現
  - **より丁寧な表現**: 敬語を多用した丁寧な表現
  - **簡潔で明確な表現**: 簡潔さを重視した表現
- **用途**: 顧客への返信文の品質向上

### 6. ? テキスト翻訳 (TT)
- **操作**: テキストを選択 → T キーを2回素早く押す
- **機能**: 自動言語検出による翻訳
  - 日本語 → 英語
  - 英語 → 日本語
  - その他の言語 → 英語
- **用途**: 多言語サポート対応

## インストール方法

### 前提条件
- Tampermonkey ブラウザ拡張機能
- 有効な OpenAI API キー

### 手順
1. Tampermonkey をブラウザにインストール
2. スクリプトファイル (`zendesk-chatgpt-assistant.js`) を開く
3. **重要**: API キーを設定:
   ```javascript
   const CONFIG = {
       api: {
           key: "sk-proj-xxxxxxxxxx", // ← ここに実際の OpenAI API キーを入力
           model: "gpt-4",
           timeout: 30000
       },
       // ...
   }
   ```
4. Tampermonkey でスクリプトを有効化

**?? セキュリティ注意事項:**
- API キーは個人的な情報です
- GitHub などの公開リポジトリには API キーを含めないでください
- API キーは OpenAI ダッシュボードで管理してください

## 使用方法

### 基本操作
1. Zendesk ページでテキストを選択
2. 対応するキーを2回素早く押す
3. 処理状況を確認（? 処理中 → ? 完了）

### キーボード対応
- **任意のキーボードレイアウトに対応**
- 物理キー位置を検出（文字出力に依存しない）
- 日本語キーボード、IME 使用時でも正常動作

### ステータス表示
選択したテキストの横に表示されるアイコン：
- ? **処理中...** (オレンジ)
- ? **完了** (グリーン)
- ? **コピー済み** (ブルー)
- ? **エラー** (レッド)

## 設定

### API 設定
```javascript
const CONFIG = {
    api: {
        key: "YOUR_OPENAI_API_KEY_HERE", // ?? 実際の API キーに置き換えてください
        model: "gpt-4",                  // 使用する GPT モデル
        timeout: 30000                   // API タイムアウト (ミリ秒)
    }
}
```

**API キーの取得方法:**
1. [OpenAI Platform](https://platform.openai.com/) にログイン
2. API Keys セクションに移動
3. "Create new secret key" をクリック
4. 生成されたキーをコピーして上記の設定に貼り付け

### UI 設定
```javascript
ui: {
    doubleClickDelay: 400,    // ダブルクリック検出間隔（ミリ秒）
    statusTimeout: 2000,      // ステータス表示時間（ミリ秒）
    dialogColor: '#632CA6'    // Datadog ブランドカラー
}
```

## トラブルシューティング

### よくある問題

**Q: キーボードショートカットが反応しない**
- テキストが選択されているか確認
- 修飾キー（Ctrl/Cmd/Alt）が押されていないか確認
- 日本語キーボードの場合、物理キー位置で動作

**Q: API エラーが発生する**
- OpenAI API キーが正しく設定されているか確認
- API クォータが残っているか確認
- インターネット接続を確認

**Q: 日本語改善機能で3つのバリエーションが表示されない**
- ChatGPT の応答形式を確認
- より長いテキストで試行
- API 応答の安定性を確認

### デバッグ
ブラウザの開発者ツールのコンソールで詳細なログを確認できます。

## 技術仕様

### 対応ブラウザ
- Chrome (推奨)
- Firefox
- Safari
- Edge

### 依存関係
- Tampermonkey
- OpenAI API
- モダンブラウザ (ES6+ サポート)

### セキュリティ
- API キーはローカルに保存
- HTTPS 通信のみ使用
- 外部サーバーへのデータ送信は OpenAI API のみ

## 更新履歴

### v1.1.0 (最新)
- 日本語改善機能で3つのバリエーション表示
- 国際キーボード対応の改善
- UI の改善

### v1.0.0
- 初回リリース
- 6つの基本機能実装
- 統一された設定管理

## ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。

## サポート

問題や機能要求がある場合は、以下の方法でお知らせください：
- GitHub Issues
- 内部 Slack チャンネル

## 貢献

プルリクエストや改善提案を歓迎します。コードの品質と既存機能の互換性を維持してください。

---

**注意**: このスクリプトは Datadog の内部使用を想定して開発されています。外部での使用時は適切な設定変更を行ってください。 